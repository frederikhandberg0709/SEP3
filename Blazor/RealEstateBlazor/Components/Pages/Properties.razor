@page "/properties"
@rendermode InteractiveServer

<link href="Properties.css" rel="stylesheet" />

<PageTitle>Properties</PageTitle>

<h1>Our Properties</h1>
<p>Filter and explore apartments, houses, and commercial spaces tailored to your needs.</p>

<!-- Filter Section -->
<div class="filter-section">
    <label for="filterType">Filter by:</label>
    <select id="filterType" @bind="selectedType">
        <option value="">All</option>
        <option value="Apartment">Apartment</option>
        <option value="House">House</option>
        <option value="Commercial">Commercial</option>
    </select>
</div>

<!-- Property Grid -->
<div class="property-grid">
    @foreach (var property in FilteredProperties)
    {
        <div class="property-box">
            <img src="@property.Image" alt="@property.Name" class="property-image" />
            <h3>@property.Name</h3>
            <p>@property.Price</p>
            <p>@property.Type</p>
        </div>
    }
</div>

@code {
    // Renamed the class to avoid conflicts
    private class RealEstateItem
    {
        public string Name { get; set; } = string.Empty;
        public string Price { get; set; } = string.Empty;
        public string Type { get; set; } = string.Empty;
        public string Image { get; set; } = string.Empty;
    }

    // List of properties
    private List<RealEstateItem> PropertyList = new()
    {
        new RealEstateItem { Name = "Modern Apartment", Price = "$1,500/month", Type = "Apartment", Image = "images/property1.jpg" },
        new RealEstateItem { Name = "Family House", Price = "$300,000", Type = "House", Image = "images/property2.jpg" },
        new RealEstateItem { Name = "Luxury Villa", Price = "$750,000", Type = "House", Image = "images/property3.jpg" },
        new RealEstateItem { Name = "Commercial Space", Price = "$2,000/month", Type = "Commercial", Image = "images/property4.jpg" },
        new RealEstateItem { Name = "Cozy Studio", Price = "$900/month", Type = "Apartment", Image = "images/property5.jpg" },
        new RealEstateItem { Name = "Penthouse Suite", Price = "$1,200,000", Type = "Apartment", Image = "images/property6.jpg" },
        new RealEstateItem { Name = "Retail Storefront", Price = "$3,500/month", Type = "Commercial", Image = "images/property7.jpg" },
        new RealEstateItem { Name = "Country House", Price = "$450,000", Type = "House", Image = "images/property8.jpg" }
    };

    // Selected filter type
    private string selectedType = "";

    // Filtered properties
    private IEnumerable<RealEstateItem> FilteredProperties =>
        string.IsNullOrEmpty(selectedType)
            ? PropertyList
            : PropertyList.Where(p => p.Type == selectedType);
}
